{"ast":null,"code":"import { useEffect } from 'react';\n\n// In your component or App.js file\nuseEffect(() => {\n  const handleBeforeUnload = event => {\n    // Set sessionStorage flag to indicate page refresh\n    if (!sessionStorage.getItem('isRefreshing')) {\n      // If not a refresh, clear localStorage\n      localStorage.removeItem('user');\n    }\n  };\n\n  // Listen for beforeunload event\n  window.addEventListener('beforeunload', handleBeforeUnload);\n\n  // Set sessionStorage flag when the page is loaded\n  sessionStorage.setItem('isRefreshing', 'true');\n\n  // Clean up on component unmount or page load\n  return () => {\n    window.removeEventListener('beforeunload', handleBeforeUnload);\n    sessionStorage.removeItem('isRefreshing');\n  };\n}, []);\nexport default useLogoutOnClose;","map":{"version":3,"names":["useEffect","handleBeforeUnload","event","sessionStorage","getItem","localStorage","removeItem","window","addEventListener","setItem","removeEventListener","useLogoutOnClose"],"sources":["C:/Users/Hp/Desktop/FAST/Software Engineering/Recipe Genie/Frontend/src/hooks/useLogoutOnClose.js"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\n// In your component or App.js file\r\nuseEffect(() => {\r\n    const handleBeforeUnload = (event) => {\r\n      // Set sessionStorage flag to indicate page refresh\r\n      if (!sessionStorage.getItem('isRefreshing')) {\r\n        // If not a refresh, clear localStorage\r\n        localStorage.removeItem('user');\r\n      }\r\n    };\r\n  \r\n    // Listen for beforeunload event\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n  \r\n    // Set sessionStorage flag when the page is loaded\r\n    sessionStorage.setItem('isRefreshing', 'true');\r\n  \r\n    // Clean up on component unmount or page load\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n      sessionStorage.removeItem('isRefreshing');\r\n    };\r\n  }, []);\r\n  \r\nexport default useLogoutOnClose;\r\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;;AAEjC;AACAA,SAAS,CAAC,MAAM;EACZ,MAAMC,kBAAkB,GAAIC,KAAK,IAAK;IACpC;IACA,IAAI,CAACC,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,EAAE;MAC3C;MACAC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IACjC;EACF,CAAC;;EAED;EACAC,MAAM,CAACC,gBAAgB,CAAC,cAAc,EAAEP,kBAAkB,CAAC;;EAE3D;EACAE,cAAc,CAACM,OAAO,CAAC,cAAc,EAAE,MAAM,CAAC;;EAE9C;EACA,OAAO,MAAM;IACXF,MAAM,CAACG,mBAAmB,CAAC,cAAc,EAAET,kBAAkB,CAAC;IAC9DE,cAAc,CAACG,UAAU,CAAC,cAAc,CAAC;EAC3C,CAAC;AACH,CAAC,EAAE,EAAE,CAAC;AAER,eAAeK,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}